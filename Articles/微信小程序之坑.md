### 微信小程序之https深坑

在开发微信小程序，会遇到各种各样的坑，毕竟刚上线，各种不成熟，所以，也只能踩了。  

场景：  
> 在本地(PC端)开发工具可以请求(wx.request)到后台数据接口(https接口)，但是在真机(手机端)预览，报: errMsg:"request: ssl hand shake error".

网上查了下，发现踩坑的人还不少。  

首先是微信MP后台需要设置`request 合法域名`。  

这个设置之后，ssl握手还是走不通。  

后来，查阅需要认证的证书，并且需要同时支持 TLS1.0,TLS1.1,TLS1.2。  
但是，在微信官网是说，`tls 仅支持 1.2 及以上版本`。  

然后去了几个检测ssl证书站点，检测自家公司的证书，发现只有TLS1.2，https后台请求数据接口还是失败。  
修改ssl配置，同时支持了TLS1.0 TLS1.1 TLS1.2 SSL2.0 SSl3.0 都支持了，还是不行。

最后老总催促，只能暂时去第三方平台(https://wxapi.hotapp.cn/),做了个中转，先把程序运行起来先。  

这个坑，个人感觉是证书没有正确配置或安装导致的，跟安装的人反映了，却没有什么实质性改善，暂且搁置，用第三方先把程序跑起来吧。  
